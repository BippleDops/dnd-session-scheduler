(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var s=e.i(5111);function a({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-end gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,s.jsx)("div",{className:"candle-flame"}),(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,s.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>a])},9064,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({children:e,className:t,pinned:i=!1,title:l}){return(0,s.jsxs)("div",{className:(0,a.cn)(i?"quest-card":"parchment","p-5 mb-4",t),children:[l&&(0,s.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:l}),e]})}e.s(["default",()=>t])},54520,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({variant:e="default",href:t,className:i,children:l,...n}){let r=(0,a.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",i);return t?(0,s.jsx)("a",{href:t,className:r,children:l}):(0,s.jsx)("button",{className:r,...n,children:l})}e.s(["default",()=>t])},31119,e=>{"use strict";var s=e.i(55703);function a(e,t=[]){let[i,l]=(0,s.useState)(null),[n,r]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),x=(0,s.useCallback)(()=>{r(!0),d(null),e().then(l).catch(e=>d(e.message||"Failed to load")).finally(()=>r(!1))},t);return(0,s.useEffect)(()=>{x()},[x]),{data:i,loading:n,error:c,refetch:x}}e.s(["useApi",()=>a])},63320,e=>{"use strict";var s=e.i(5111),a=e.i(31119),t=e.i(8779),i=e.i(59053),l=e.i(3634),n=e.i(9064),r=e.i(54520),c=e.i(55657);function d(){let{data:e,loading:d}=(0,a.useApi)(t.getAdminDashboard),{toast:x}=(0,c.useToast)();return d?(0,s.jsx)(l.default,{text:"Consulting the DM's war table..."}):e?(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"scroll-heading text-3xl mb-6",children:"ðŸ° DM War Table"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:[{label:"Upcoming",value:e.upcomingCount,icon:"âš”ï¸"},{label:"Active Players",value:e.activePlayerCount,icon:"ðŸ‘¥"},{label:"This Week",value:e.sessionsThisWeek,icon:"ðŸ“…"},{label:"This Month",value:e.sessionsThisMonth,icon:"ðŸ“†"},{label:"Last Backup",value:e.lastBackup?(0,i.formatTimestamp)(e.lastBackup):"Never",icon:"ðŸ’¾"}].map(e=>(0,s.jsxs)(n.default,{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl",children:e.icon}),(0,s.jsx)("div",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:e.value}),(0,s.jsx)("div",{className:"text-xs text-[var(--ink-faded)] uppercase tracking-wide",children:e.label})]},e.label))}),(0,s.jsxs)("div",{className:"flex gap-3 flex-wrap mb-6",children:[(0,s.jsx)(r.default,{variant:"primary",href:"/admin/sessions?action=create",children:"+ Create Session"}),(0,s.jsx)(r.default,{href:"/admin/players",children:"View Players"}),(0,s.jsx)(r.default,{href:"/admin/history",children:"View History"}),(0,s.jsx)(r.default,{onClick:async()=>{await (0,t.triggerReminders)(),x("Reminders sent!","success")},children:"Run Reminders"}),(0,s.jsx)(r.default,{onClick:async()=>{await (0,t.triggerBackup)(),x("Backup started!","success")},children:"Run Backup"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"scroll-heading text-xl mb-3",children:"This Week's Sessions"}),0===e.thisWeekSessions.length?(0,s.jsx)(n.default,{className:"text-center py-6",children:(0,s.jsx)("p",{className:"text-[var(--ink-faded)] italic",children:"No sessions this week"})}):e.thisWeekSessions.map(e=>(0,s.jsx)(n.default,{className:"!mb-2",pinned:!0,children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{className:"text-[var(--ink)]",children:e.title||e.campaign}),(0,s.jsxs)("p",{className:"text-xs text-[var(--ink-faded)]",children:[(0,i.formatDate)(e.date)," â€¢ ",(0,i.formatTime)(e.startTime)]})]}),(0,s.jsxs)("span",{className:"text-sm text-[var(--ink-faded)]",children:[e.registeredCount,"/",e.maxPlayers]})]})},e.sessionId))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"scroll-heading text-xl mb-3",children:"Recent Activity"}),(0,s.jsx)(n.default,{className:"max-h-96 overflow-y-auto",children:0===e.recentLogs.length?(0,s.jsx)("p",{className:"text-center text-[var(--ink-faded)] italic py-4",children:"No activity yet"}):e.recentLogs.map((e,a)=>(0,s.jsxs)("div",{className:"py-2 border-b border-[rgba(0,0,0,0.05)] last:border-0",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"font-semibold text-[var(--ink)]",children:e.ActionType}),(0,s.jsx)("span",{className:"text-[var(--ink-faded)] text-xs",children:(0,i.formatTimestamp)(e.Timestamp)})]}),(0,s.jsx)("p",{className:"text-xs text-[var(--ink-faded)]",children:e.Details})]},a))})]})]})]}):(0,s.jsx)(n.default,{className:"text-center py-10",children:(0,s.jsx)("p",{className:"text-[var(--ink)]",children:"Failed to load dashboard."})})}e.s(["default",()=>d])}]);