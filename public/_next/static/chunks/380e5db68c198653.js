(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var s=e.i(5111);function a({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-end gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,s.jsx)("div",{className:"candle-flame"}),(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,s.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>a])},9064,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({children:e,className:t,pinned:l=!1,title:n}){return(0,s.jsxs)("div",{className:(0,a.cn)(l?"quest-card":"parchment","p-5 mb-4",t),children:[n&&(0,s.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:n}),e]})}e.s(["default",()=>t])},54520,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({variant:e="default",href:t,className:l,children:n,...r}){let i=(0,a.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",l);return t?(0,s.jsx)("a",{href:t,className:i,children:n}):(0,s.jsx)("button",{className:i,...r,children:n})}e.s(["default",()=>t])},94837,e=>{"use strict";var s=e.i(5111),a=e.i(55703),t=e.i(84249),l=e.i(8779),n=e.i(9064),r=e.i(54520),i=e.i(3634);function c(){let{isLoggedIn:e}=(0,t.useAuth)(),[c,d]=(0,a.useState)([]),[m,o]=(0,a.useState)([]),[u,x]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)({campaignId:"",preferredDate:"",message:""});(0,a.useEffect)(()=>{Promise.all([(0,l.getSessionRequests)(),(0,l.getCampaignsList)()]).then(([e,s])=>{d(e),o(s)}).finally(()=>x(!1))},[]);let j=async e=>{e.preventDefault(),await (0,l.createSessionRequest)(f),p(!1),g({campaignId:"",preferredDate:"",message:""}),(0,l.getSessionRequests)().then(d)},v=async e=>{await (0,l.voteSessionRequest)(e,[]),(0,l.getSessionRequests)().then(d)};return u?(0,s.jsx)(i.default,{text:"Loading requests..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:"ðŸ™‹ Session Requests"}),e&&(0,s.jsx)(r.default,{onClick:()=>p(!h),children:h?"Cancel":"+ Request Session"})]}),h&&(0,s.jsx)(n.default,{title:"Request a Session",children:(0,s.jsxs)("form",{onSubmit:j,className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Campaign"}),(0,s.jsxs)("select",{className:"parchment-input w-full",value:f.campaignId,onChange:e=>g({...f,campaignId:e.target.value}),children:[(0,s.jsx)("option",{value:"",children:"Any campaign"}),m.map(e=>(0,s.jsx)("option",{value:e.campaign_id,children:e.name},e.campaign_id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Preferred Date"}),(0,s.jsx)("input",{type:"date",className:"parchment-input w-full",value:f.preferredDate,onChange:e=>g({...f,preferredDate:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Message"}),(0,s.jsx)("textarea",{className:"parchment-input w-full h-16",value:f.message,onChange:e=>g({...f,message:e.target.value}),placeholder:"I'm free this weekend, anyone else?"})]}),(0,s.jsx)(r.default,{type:"submit",children:"Submit Request"})]})}),0===c.length?(0,s.jsx)(n.default,{children:(0,s.jsx)("p",{className:"text-[var(--ink-faded)] text-center",children:"No session requests yet. Be the first to request a game!"})}):(0,s.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,s.jsxs)(n.default,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[a.photo_url?(0,s.jsx)("img",{src:a.photo_url,alt:"",className:"w-10 h-10 rounded-full"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-[var(--wood-dark)] flex items-center justify-center",children:"ðŸ‘¤"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:a.player_name}),a.campaign_name&&(0,s.jsx)("span",{className:"text-sm text-[var(--parchment-dark)] ml-2",children:a.campaign_name}),a.preferred_date&&(0,s.jsxs)("p",{className:"text-xs text-[var(--gold)]",children:["Preferred: ",a.preferred_date]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-lg font-bold text-[var(--gold)]",children:["+",a.vote_count||a.upvotes]}),e&&(0,s.jsx)(r.default,{variant:"sm",onClick:()=>v(a.request_id),children:"ðŸ‘ I'm in!"})]})]}),a.message&&(0,s.jsx)("p",{className:"text-sm mt-2",children:a.message})]},a.request_id))})]})}e.s(["default",()=>c])}]);