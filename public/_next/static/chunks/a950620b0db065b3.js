(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var a=e.i(5111);function t({text:e="Loading..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,a.jsx)("div",{className:"candle-flame"}),(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,a.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>t])},9064,e=>{"use strict";var a=e.i(5111),t=e.i(59053);function s({children:e,className:s,pinned:n=!1,title:l}){return(0,a.jsxs)("div",{className:(0,t.cn)(n?"quest-card":"parchment","p-5 mb-4",s),children:[l&&(0,a.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:l}),e]})}e.s(["default",()=>s])},54520,e=>{"use strict";var a=e.i(5111),t=e.i(59053);function s({variant:e="default",href:s,className:n,children:l,...d}){let i=(0,t.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",n);return s?(0,a.jsx)("a",{href:s,className:i,children:l}):(0,a.jsx)("button",{className:i,...d,children:l})}e.s(["default",()=>s])},2922,e=>{"use strict";var a=e.i(5111),t=e.i(55703),s=e.i(84249),n=e.i(8779),l=e.i(9064),d=e.i(54520),i=e.i(3634);let r={Crafting:"ðŸ”¨",Training:"âš”ï¸",Research:"ðŸ“š",Carousing:"ðŸº",Working:"ðŸ’¼",Exploring:"ðŸ—ºï¸",Other:"â“"};function c(){let{isAdmin:e}=(0,s.useAuth)(),[c,o]=(0,t.useState)([]),[m,x]=(0,t.useState)("Pending"),[u,h]=(0,t.useState)(!0),[p,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{e&&(h(!0),(0,n.getAdminDowntime)(m).then(o).finally(()=>h(!1)))},[e,m]);let f=async()=>{p&&(await (0,n.resolveDowntime)(p.id,{status:p.status,dmNotes:p.dmNotes,reward:p.reward}),v(null),(0,n.getAdminDowntime)(m).then(o))};return e?u?(0,a.jsx)(i.default,{text:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:"ðŸ•ï¸ Downtime Review"}),(0,a.jsx)("div",{className:"flex gap-1",children:["Pending","Approved","Resolved","Rejected"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:`px-3 py-1 rounded text-xs ${m===e?"bg-[var(--gold)] text-[var(--wood-dark)]":"bg-[var(--wood-dark)] text-[var(--parchment-dark)]"}`,children:e},e))})]}),0===c.length?(0,a.jsx)(l.default,{children:(0,a.jsxs)("p",{className:"text-[var(--ink-faded)] text-center",children:["No ",m.toLowerCase()," downtime actions."]})}):c.map(e=>(0,a.jsxs)(l.default,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg mr-1",children:r[e.type]}),(0,a.jsx)("span",{className:"font-bold",children:e.player_name}),(0,a.jsxs)("span",{className:"text-sm text-[var(--parchment-dark)]",children:[" as ",e.character_name," â€” ",e.type]})]}),"Pending"===m&&(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(d.default,{variant:"sm",onClick:()=>v({id:e.action_id,status:"Approved",dmNotes:"",reward:""}),children:"Approve"}),(0,a.jsx)(d.default,{variant:"sm",onClick:()=>v({id:e.action_id,status:"Rejected",dmNotes:"",reward:""}),children:"Reject"})]})]}),(0,a.jsx)("p",{className:"text-sm mt-2",children:e.description}),e.goal&&(0,a.jsxs)("p",{className:"text-xs text-[var(--ink-faded)] mt-1",children:["Goal: ",e.goal]}),p?.id===e.action_id&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-[var(--wood-dark)] rounded space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"DM Notes"}),(0,a.jsx)("textarea",{className:"parchment-input w-full h-16",value:p.dmNotes,onChange:e=>v({...p,dmNotes:e.target.value}),placeholder:"Your ruling..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Reward (items, info, gold, etc.)"}),(0,a.jsx)("input",{className:"parchment-input w-full",value:p.reward,onChange:e=>v({...p,reward:e.target.value})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.default,{onClick:f,children:["Confirm ",p.status]}),(0,a.jsx)(d.default,{variant:"secondary",onClick:()=>v(null),children:"Cancel"})]})]})]},e.action_id))]}):(0,a.jsx)(l.default,{title:"Access Denied",children:(0,a.jsx)("p",{children:"Admin only."})})}e.s(["default",()=>c])}]);