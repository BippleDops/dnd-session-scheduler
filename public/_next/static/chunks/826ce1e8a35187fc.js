(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var a=e.i(5111);function s({text:e="Loading..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,a.jsx)("div",{className:"candle-flame"}),(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,a.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>s])},9064,e=>{"use strict";var a=e.i(5111),s=e.i(59053);function l({children:e,className:l,pinned:t=!1,title:r}){return(0,a.jsxs)("div",{className:(0,s.cn)(t?"quest-card":"parchment","p-5 mb-4",l),children:[r&&(0,a.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:r}),e]})}e.s(["default",()=>l])},54520,e=>{"use strict";var a=e.i(5111),s=e.i(59053);function l({variant:e="default",href:l,className:t,children:r,...n}){let c=(0,s.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",t);return l?(0,a.jsx)("a",{href:l,className:c,children:r}):(0,a.jsx)("button",{className:c,...n,children:r})}e.s(["default",()=>l])},4334,e=>{"use strict";var a=e.i(5111),s=e.i(55703),l=e.i(84249),t=e.i(8779),r=e.i(9064),n=e.i(54520),c=e.i(3634),i=e.i(99553);let d=["Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard","Artificer","Blood Hunter"],o=["Human","Elf","Dwarf","Halfling","Gnome","Half-Elf","Half-Orc","Tiefling","Dragonborn","Goliath","Aasimar","Genasi","Tabaxi","Firbolg","Kenku","Lizardfolk","Changeling","Shifter","Warforged"];function x(){let{isLoggedIn:e}=(0,l.useAuth)(),[x,h]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[p,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(null),[v,j]=(0,s.useState)({}),N=(0,s.useCallback)(()=>{e&&(0,t.getMyCharactersV2)().then(h).finally(()=>m(!1))},[e]);(0,s.useEffect)(N,[N]);let C=async e=>{e.preventDefault(),b?await (0,t.updateMyCharacter)(b,v):await (0,t.createMyCharacter)(v),g(!1),f(null),j({}),N()},k=async e=>{confirm("Retire this character? This cannot be undone.")&&(await (0,t.retireMyCharacter)(e),N())};return e?u?(0,a.jsx)(c.default,{text:"Loading characters..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:"ðŸ“œ Character Roster"}),(0,a.jsx)(n.default,{onClick:()=>{g(!p),f(null),j({})},children:p?"Cancel":"+ New Character"})]}),p&&(0,a.jsx)(r.default,{title:b?"Edit Character":"Create Character",children:(0,a.jsxs)("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Name *"}),(0,a.jsx)("input",{required:!0,className:"parchment-input w-full",value:v.name||"",onChange:e=>j({...v,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Race"}),(0,a.jsxs)("select",{className:"parchment-input w-full",value:v.race||"",onChange:e=>j({...v,race:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Select..."}),o.map(e=>(0,a.jsx)("option",{children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Class"}),(0,a.jsxs)("select",{className:"parchment-input w-full",value:v.class||"",onChange:e=>j({...v,class:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Select..."}),d.map(e=>(0,a.jsx)("option",{children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Subclass"}),(0,a.jsx)("input",{className:"parchment-input w-full",value:v.subclass||"",onChange:e=>j({...v,subclass:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Level"}),(0,a.jsx)("input",{type:"number",min:"1",max:"20",className:"parchment-input w-full",value:v.level||"1",onChange:e=>j({...v,level:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Portrait URL"}),(0,a.jsx)("input",{className:"parchment-input w-full",value:v.portraitUrl||"",onChange:e=>j({...v,portraitUrl:e.target.value}),placeholder:"https://..."})]}),(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsx)("h3",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-2",children:"Combat Stats"})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 col-span-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"HP"}),(0,a.jsx)("input",{type:"number",className:"parchment-input w-full",value:v.hp||"",onChange:e=>j({...v,hp:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Max HP"}),(0,a.jsx)("input",{type:"number",className:"parchment-input w-full",value:v.maxHp||"",onChange:e=>j({...v,maxHp:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"AC"}),(0,a.jsx)("input",{type:"number",className:"parchment-input w-full",value:v.ac||"10",onChange:e=>j({...v,ac:e.target.value})})]})]}),(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsx)("h3",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-2",children:"Ability Scores"})}),(0,a.jsx)("div",{className:"grid grid-cols-6 gap-2 col-span-full",children:["str","dex","con","int","wis","cha"].map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1 uppercase text-center",children:e}),(0,a.jsx)("input",{type:"number",min:"1",max:"30",className:"parchment-input w-full text-center",value:v[e]||"10",onChange:a=>j({...v,[e]:a.target.value})})]},e))}),(0,a.jsxs)("div",{className:"col-span-full",children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Backstory"}),(0,a.jsx)("textarea",{className:"parchment-input w-full h-24",value:v.backstory||"",onChange:e=>j({...v,backstory:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Proficiencies"}),(0,a.jsx)("textarea",{className:"parchment-input w-full h-16",value:v.proficiencies||"",onChange:e=>j({...v,proficiencies:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Equipment"}),(0,a.jsx)("textarea",{className:"parchment-input w-full h-16",value:v.equipment||"",onChange:e=>j({...v,equipment:e.target.value})})]}),(0,a.jsxs)("div",{className:"col-span-full flex justify-end gap-2",children:[(0,a.jsx)(n.default,{type:"button",variant:"secondary",onClick:()=>{g(!1),f(null)},children:"Cancel"}),(0,a.jsx)(n.default,{type:"submit",children:b?"Save Changes":"Create Character"})]})]})}),0===x.length&&!p&&(0,a.jsx)(r.default,{children:(0,a.jsx)("p",{className:"text-center text-[var(--ink-faded)]",children:"No characters yet. Create your first hero!"})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,a.jsxs)(r.default,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[e.portrait_url?(0,a.jsx)("img",{src:e.portrait_url,alt:e.name,className:"w-16 h-16 rounded-lg object-cover border-2 border-[var(--wood-dark)]"}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-lg bg-[var(--wood-dark)] flex items-center justify-center text-2xl",children:"âš”ï¸"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(i.default,{href:`/character?id=${e.character_id}`,className:"font-[var(--font-heading)] text-lg text-[var(--gold)] hover:underline block truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-[var(--ink-faded)]",children:[e.race," ",e.class,e.subclass?` (${e.subclass})`:""]}),(0,a.jsxs)("p",{className:"text-xs text-[var(--gold)]",children:["Level ",e.level]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-6 gap-1 mt-3",children:[["STR",e.str],["DEX",e.dex],["CON",e.con],["INT",e.int_],["WIS",e.wis],["CHA",e.cha]].map(([e,s])=>{let l;return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"block text-[10px] text-[var(--ink-faded)] uppercase",children:e}),(0,a.jsx)("span",{className:"block text-sm font-bold",children:s}),(0,a.jsx)("span",{className:"block text-[10px] text-[var(--gold)]",children:(l=Math.floor((s-10)/2))>=0?`+${l}`:`${l}`})]},e)})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-2 border-t border-[var(--wood-dark)]",children:[(0,a.jsxs)("div",{className:"flex gap-1 text-xs",children:[(0,a.jsxs)("span",{title:"HP",children:["â¤ï¸ ",e.hp,"/",e.max_hp]}),(0,a.jsxs)("span",{title:"AC",children:["ðŸ›¡ï¸ ",e.ac]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{f(e.character_id),j({name:e.name,class:e.class,subclass:e.subclass||"",level:String(e.level),race:e.race,backstory:e.backstory||"",portraitUrl:e.portrait_url||"",hp:String(e.hp||""),maxHp:String(e.max_hp||""),ac:String(e.ac||10),str:String(e.str),dex:String(e.dex),con:String(e.con),int:String(e.int_),wis:String(e.wis),cha:String(e.cha),proficiencies:e.proficiencies||"",equipment:e.equipment||""}),g(!0)},className:"text-xs px-2 py-1 bg-[var(--wood)] rounded hover:bg-[var(--wood-light)] transition-colors",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>k(e.character_id),className:"text-xs px-2 py-1 bg-red-900/30 rounded hover:bg-red-900/50 transition-colors text-red-300",children:"Retire"})]})]})]},e.character_id))})]}):(0,a.jsx)(r.default,{title:"Sign In Required",children:(0,a.jsx)("p",{children:"Please sign in to manage characters."})})}e.s(["default",()=>x])}]);