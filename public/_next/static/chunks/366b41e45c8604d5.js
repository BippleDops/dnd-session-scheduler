(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var t=e.i(5111);function a({text:e="Loading..."}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-end gap-3",children:[(0,t.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,t.jsx)("div",{className:"candle-flame"}),(0,t.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,t.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>a])},9064,e=>{"use strict";var t=e.i(5111),a=e.i(59053);function s({children:e,className:s,pinned:l=!1,title:n}){return(0,t.jsxs)("div",{className:(0,a.cn)(l?"quest-card":"parchment","p-5 mb-4",s),children:[n&&(0,t.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:n}),e]})}e.s(["default",()=>s])},54520,e=>{"use strict";var t=e.i(5111),a=e.i(59053);function s({variant:e="default",href:s,className:l,children:n,...i}){let r=(0,a.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",l);return s?(0,t.jsx)("a",{href:s,className:r,children:n}):(0,t.jsx)("button",{className:r,...i,children:n})}e.s(["default",()=>s])},13714,e=>{"use strict";var t=e.i(5111),a=e.i(55703),s=e.i(84249),l=e.i(8779),n=e.i(9064),i=e.i(54520),r=e.i(3634);let c=["Crafting","Training","Research","Carousing","Working","Exploring","Other"],d={Crafting:"ðŸ”¨",Training:"âš”ï¸",Research:"ðŸ“š",Carousing:"ðŸº",Working:"ðŸ’¼",Exploring:"ðŸ—ºï¸",Other:"â“"};function o(){let{isLoggedIn:e}=(0,s.useAuth)(),[o,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[j,v]=(0,a.useState)(!1),[b,N]=(0,a.useState)({characterId:"",campaignId:"",type:"Other",description:"",goal:"",duration:""});(0,a.useEffect)(()=>{e&&Promise.all([(0,l.getMyDowntime)(),(0,l.getMyCharactersV2)(),(0,l.getCampaignsList)()]).then(([e,t,a])=>{m(e),x(t),p(a)}).finally(()=>f(!1))},[e]);let y=async e=>{e.preventDefault(),await (0,l.submitDowntime)(b),v(!1),N({characterId:"",campaignId:"",type:"Other",description:"",goal:"",duration:""}),(0,l.getMyDowntime)().then(m)};if(!e)return(0,t.jsx)(n.default,{title:"Sign In Required",children:(0,t.jsx)("p",{children:"Please sign in."})});if(g)return(0,t.jsx)(r.default,{text:"Loading downtime..."});let w={Pending:"text-yellow-400",Approved:"text-blue-400",Rejected:"text-red-400",Resolved:"text-green-400"};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:"ðŸ•ï¸ Downtime Actions"}),(0,t.jsx)(i.default,{onClick:()=>v(!j),children:j?"Cancel":"+ New Action"})]}),j&&(0,t.jsx)(n.default,{title:"Submit Downtime Action",children:(0,t.jsxs)("form",{onSubmit:y,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Character *"}),(0,t.jsxs)("select",{required:!0,className:"parchment-input w-full",value:b.characterId,onChange:e=>N({...b,characterId:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Select..."}),h.map(e=>(0,t.jsxs)("option",{value:e.character_id,children:[e.name," (Lvl ",e.level,")"]},e.character_id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Type *"}),(0,t.jsx)("select",{className:"parchment-input w-full",value:b.type,onChange:e=>N({...b,type:e.target.value}),children:c.map(e=>(0,t.jsx)("option",{children:e},e))})]}),(0,t.jsxs)("div",{className:"col-span-full",children:[(0,t.jsx)("label",{className:"block text-xs font-bold mb-1",children:"What are you doing? *"}),(0,t.jsx)("textarea",{required:!0,className:"parchment-input w-full h-20",value:b.description,onChange:e=>N({...b,description:e.target.value}),placeholder:"I spend my downtime..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Goal"}),(0,t.jsx)("input",{className:"parchment-input w-full",value:b.goal,onChange:e=>N({...b,goal:e.target.value}),placeholder:"What I hope to achieve..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold mb-1",children:"Duration"}),(0,t.jsx)("input",{className:"parchment-input w-full",value:b.duration,onChange:e=>N({...b,duration:e.target.value}),placeholder:"3 days, 1 week, etc."})]}),(0,t.jsx)("div",{className:"col-span-full flex justify-end",children:(0,t.jsx)(i.default,{type:"submit",children:"Submit for DM Review"})})]})}),0!==o.length||j?(0,t.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,t.jsxs)(n.default,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-lg mr-2",children:d[e.type]||"â“"}),(0,t.jsx)("span",{className:"font-bold",children:e.character_name}),(0,t.jsxs)("span",{className:"text-sm text-[var(--parchment-dark)] ml-2",children:["â€” ",e.type]})]}),(0,t.jsx)("span",{className:`text-xs font-bold ${w[e.status]||""}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-sm mt-2",children:e.description}),e.goal&&(0,t.jsxs)("p",{className:"text-xs text-[var(--ink-faded)] mt-1",children:["Goal: ",e.goal]}),e.dm_notes&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-[var(--gold)]/10 rounded text-sm",children:[(0,t.jsx)("strong",{children:"DM:"})," ",e.dm_notes]}),e.reward&&(0,t.jsxs)("div",{className:"mt-1 text-sm text-[var(--gold)]",children:["Reward: ",e.reward]})]},e.action_id))}):(0,t.jsx)(n.default,{children:(0,t.jsx)("p",{className:"text-[var(--ink-faded)] text-center",children:"No downtime actions yet. What will your character do between adventures?"})})]})}e.s(["default",()=>o])}]);