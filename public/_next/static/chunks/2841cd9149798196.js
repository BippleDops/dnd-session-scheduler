(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49159,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({campaign:e,size:t=36}){let i=(0,a.campaignColor)(e),n=e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,s.jsx)("span",{className:"wax-seal",style:{backgroundColor:i,width:t,height:t,fontSize:.3*t},title:e,children:n})}e.s(["default",()=>t])},3634,e=>{"use strict";var s=e.i(5111);function a({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-end gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,s.jsx)("div",{className:"candle-flame"}),(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,s.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>a])},54520,e=>{"use strict";var s=e.i(5111),a=e.i(59053);function t({variant:e="default",href:t,className:i,children:n,...r}){let l=(0,a.cn)("wood-btn","primary"===e&&"wood-btn-primary","secondary"===e&&"opacity-70 hover:opacity-100","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",i);return t?(0,s.jsx)("a",{href:t,className:l,children:n}):(0,s.jsx)("button",{className:l,...r,children:n})}e.s(["default",()=>t])},31119,e=>{"use strict";var s=e.i(55703);function a(e,t=[]){let[i,n]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),o=(0,s.useCallback)(()=>{l(!0),d(null),e().then(n).catch(e=>d(e.message||"Failed to load")).finally(()=>l(!1))},t);return(0,s.useEffect)(()=>{o()},[o]),{data:i,loading:r,error:c,refetch:o}}e.s(["useApi",()=>a])},98010,e=>{"use strict";var s=e.i(5111);let a={any:{label:"Any Level",range:"1-20"},tier1:{label:"Tier 1",range:"1-4",name:"Local Heroes"},tier2:{label:"Tier 2",range:"5-10",name:"Heroes of the Realm"},tier3:{label:"Tier 3",range:"11-16",name:"Masters of the Realm"},tier4:{label:"Tier 4",range:"17-20",name:"Masters of the World"}};function t({tier:e}){let t=e||"any",i=a[t]||a.any;return"any"===t?null:(0,s.jsxs)("span",{className:"tier-shield",title:"name"in i?i.name:"",children:["ðŸ›¡ï¸ ",i.label,": Lv ",i.range]})}e.s(["default",()=>t],98010)},53668,e=>{"use strict";var s=e.i(5111),a=e.i(59053),t=e.i(49159),i=e.i(98010),n=e.i(54520);function r({session:e,showSignup:r=!0}){let l=e.spotsRemaining>0&&e.spotsRemaining<=2,c=e.spotsRemaining<=0;return(0,s.jsxs)("div",{className:"quest-card p-5 pt-6",style:{borderLeft:`4px solid ${(0,a.campaignColor)(e.campaign)}`},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start gap-3 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-[var(--font-heading)] text-lg text-[var(--ink)] mb-1",children:e.title||e.campaign}),(0,s.jsxs)("p",{className:"text-sm text-[var(--ink-faded)]",children:[(0,a.formatDate)(e.date)," â€¢ ",(0,a.formatTime)(e.startTime)," â€” ",(0,a.formatTime)(e.endTime)]})]}),(0,s.jsx)(t.default,{campaign:e.campaign})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[e.levelTier&&"any"!==e.levelTier&&(0,s.jsx)(i.default,{tier:e.levelTier}),e.location&&(0,s.jsxs)("span",{className:"text-xs text-[var(--ink-faded)]",children:["ðŸ“ ",e.location]})]}),e.description&&(0,s.jsx)("p",{className:"mt-2 text-sm text-[var(--ink-faded)] italic",children:e.description}),e.roster.length>0&&(0,s.jsxs)("div",{className:"mt-3 border-t border-[var(--parchment-dark)] pt-3",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-[var(--ink-faded)] uppercase tracking-wide mb-2",children:"Adventuring Party"}),e.roster.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between text-sm py-1 border-b border-[rgba(0,0,0,0.05)] last:border-0",children:[(0,s.jsx)("span",{className:"font-semibold text-[var(--ink)]",children:e.characterName}),(0,s.jsxs)("span",{className:"text-[var(--ink-faded)]",children:[e.characterClass," Lv.",e.characterLevel]})]},a))]}),(0,s.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,s.jsxs)("span",{className:`text-sm ${l?"text-[var(--candle)] font-bold":"text-[var(--ink-faded)]"}`,children:[l&&"âš ï¸ ",e.registeredCount," / ",e.maxPlayers," spots filled"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.default,{variant:"sm",onClick:()=>window.location.href=`/api/sessions/${e.sessionId}/ics`,children:"ðŸ“…"}),r&&(c?(0,s.jsx)("span",{className:"text-xs text-red-400 font-semibold uppercase",children:"Full"}):(0,s.jsx)(n.default,{variant:"primary",href:`/signup?sessionId=${e.sessionId}`,children:"Sign Up"}))]})]})]})}e.s(["default",()=>r])},76796,e=>{"use strict";var s=e.i(5111),a=e.i(55703),t=e.i(31119),i=e.i(8779),n=e.i(3634),r=e.i(53668),l=e.i(54520);function c(){let{data:e,loading:c}=(0,t.useApi)(i.getSessions),[d,o]=(0,a.useState)(!1),m=`${window.location.origin}/api/calendar/feed.ics`;return c?(0,s.jsx)(n.default,{text:"Unrolling the scrolls..."}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"scroll-heading text-3xl",children:"ðŸ“œ Upcoming Sessions"}),(0,s.jsx)(l.default,{variant:"sm",onClick:()=>o(!d),children:"ðŸ“… Subscribe to Calendar"})]}),d&&(0,s.jsxs)("div",{className:"parchment p-4 mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-[var(--ink)] mb-2",children:"Paste this URL into Google Calendar, Apple Calendar, or Outlook:"}),(0,s.jsx)("input",{type:"text",readOnly:!0,value:m,className:"tavern-input text-center text-sm",onClick:e=>{e.target.select(),navigator.clipboard.writeText(m)}}),(0,s.jsxs)("p",{className:"text-xs text-[var(--ink-faded)] mt-1 text-center",children:["Or ",(0,s.jsx)("a",{href:m.replace("https://","webcal://").replace("http://","webcal://"),className:"text-[var(--gold)] underline",children:"open in your calendar app"})]})]}),e&&0!==e.length?(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(e=>(0,s.jsx)(r.default,{session:e},e.sessionId))}):(0,s.jsxs)("div",{className:"parchment p-10 text-center",children:[(0,s.jsx)("p",{className:"font-[var(--font-heading)] text-xl text-[var(--ink)]",children:"No sessions on the schedule right now."}),(0,s.jsx)("p",{className:"text-[var(--ink-faded)] italic mt-2",children:"The tavern keeper says check back soon!"})]})]})}e.s(["default",()=>c])}]);