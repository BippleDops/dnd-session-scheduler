(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54520,e=>{"use strict";var a=e.i(5111),s=e.i(59053);function t({variant:e="default",href:t,className:r,children:l,...i}){let n=(0,s.cn)("wood-btn","primary"===e&&"wood-btn-primary","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",r);return t?(0,a.jsx)("a",{href:t,className:n,children:l}):(0,a.jsx)("button",{className:n,...i,children:l})}e.s(["default",()=>t])},3634,e=>{"use strict";var a=e.i(5111);function s({text:e="Loading..."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,a.jsx)("div",{className:"candle-flame"}),(0,a.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,a.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>s])},9064,e=>{"use strict";var a=e.i(5111),s=e.i(59053);function t({children:e,className:t,pinned:r=!1}){return(0,a.jsx)("div",{className:(0,s.cn)(r?"quest-card":"parchment","p-5 mb-4",t),children:e})}e.s(["default",()=>t])},70097,e=>{"use strict";var a=e.i(5111),s=e.i(55703),t=e.i(4629),r=e.i(84249),l=e.i(8779),i=e.i(3634),n=e.i(9064),c=e.i(54520),d=e.i(55657);function o(){return(0,a.jsx)(s.Suspense,{children:(0,a.jsx)(m,{})})}function m(){let{isLoggedIn:e}=(0,r.useAuth)(),o="1"===(0,t.useSearchParams)().get("complete"),{toast:m}=(0,d.useToast)(),[x,u]=(0,s.useState)(!0),[h,f]=(0,s.useState)([]),[v,p]=(0,s.useState)(""),[g,j]=(0,s.useState)(""),[b,N]=(0,s.useState)(""),[y,k]=(0,s.useState)(""),[S,P]=(0,s.useState)(""),[C,w]=(0,s.useState)(""),[q,T]=(0,s.useState)([]),[A,M]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e?Promise.all([(0,l.getMyProfile)(),(0,l.getCampaigns)()]).then(([e,a])=>{f(a),e&&(M(!0),p(e.name),j(e.email),N(e.preferredCampaign),k(e.accessibilityNeeds),P(e.dmNotes),w(e.playedBefore),T(e.characters))}).catch(()=>{}).finally(()=>u(!1)):u(!1)},[e]);let D=async e=>{if(e.preventDefault(),!v.trim())return void m("Name is required","error");if(!C)return void m("Please select played before status","error");let a=await (0,l.updateMyProfile)({name:v,preferredCampaign:b,accessibilityNeeds:y,dmNotes:S,playedBefore:C});a.success?m("Profile saved!","success"):m(a.message||"Failed","error")};return e?x?(0,a.jsx)(i.default,{text:"Reading your character sheet..."}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"scroll-heading text-3xl mb-6",children:"ðŸ‘¤ My Profile"}),o&&(0,a.jsx)("div",{className:"bg-[rgba(255,157,46,0.15)] border border-[var(--candle)] rounded px-4 py-3 mb-4 text-sm text-[var(--parchment)]",children:"âš ï¸ Please complete your profile before signing up for quests. Fill in all required fields and click Save."}),A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("form",{onSubmit:D,children:(0,a.jsx)(n.default,{children:(0,a.jsxs)("div",{className:"space-y-4 max-w-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Name *"}),(0,a.jsx)("input",{value:v,onChange:e=>p(e.target.value),className:"tavern-input",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Email"}),(0,a.jsx)("input",{value:g,disabled:!0,className:"tavern-input opacity-60"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Preferred Campaign"}),(0,a.jsxs)("select",{value:b,onChange:e=>N(e.target.value),className:"tavern-input",children:[(0,a.jsx)("option",{value:"",children:"No Preference"}),h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Played D&D before? *"}),(0,a.jsx)("div",{className:"flex gap-4",children:["Yes","No","First Time"].map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-1 text-sm text-[var(--ink)]",children:[(0,a.jsx)("input",{type:"radio",checked:C===e,onChange:()=>w(e),className:"accent-[var(--gold)]"}),e]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Accessibility Needs"}),(0,a.jsx)("textarea",{value:y,onChange:e=>k(e.target.value),className:"tavern-input",rows:2})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-[var(--ink)] mb-1",children:"Anything the DM Should Know"}),(0,a.jsx)("textarea",{value:S,onChange:e=>P(e.target.value),className:"tavern-input",rows:2})]}),(0,a.jsx)(c.default,{variant:"primary",type:"submit",children:"Save Profile"})]})})}),(0,a.jsx)("h2",{className:"scroll-heading text-xl mb-3 mt-6",children:"My Characters"}),(0,a.jsxs)("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-3",children:[q.map((e,s)=>(0,a.jsxs)(n.default,{children:[(0,a.jsx)("p",{className:"font-[var(--font-heading)] text-[var(--gold)]",children:e.characterName}),(0,a.jsxs)("p",{className:"text-sm text-[var(--ink-faded)]",children:[e.characterClass," Â· Lv ",e.characterLevel]})]},s)),0===q.length&&(0,a.jsx)("p",{className:"text-[var(--ink-faded)] italic col-span-full",children:"No characters yet. Sign up for a quest!"})]})]}):(0,a.jsx)(n.default,{className:"text-center py-10",children:(0,a.jsxs)("p",{className:"text-[var(--ink-faded)]",children:["No profile found. ",(0,a.jsx)("a",{href:"/sessions",className:"text-[var(--gold)] underline",children:"Sign up for a quest"})," to create one."]})})]}):(0,a.jsxs)(n.default,{className:"text-center py-10",children:[(0,a.jsx)("h2",{className:"font-[var(--font-heading)] text-xl text-[var(--ink)]",children:"Sign In to View Profile"}),(0,a.jsx)(c.default,{variant:"primary",href:"/auth/google",className:"mt-4",children:"Sign In"})]})}e.s(["default",()=>o])}]);