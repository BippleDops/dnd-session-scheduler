(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3634,e=>{"use strict";var s=e.i(5111);function t({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-end gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,s.jsx)("div",{className:"candle-flame"}),(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,s.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>t])},9064,e=>{"use strict";var s=e.i(5111),t=e.i(59053);function a({children:e,className:a,pinned:n=!1,title:i}){return(0,s.jsxs)("div",{className:(0,t.cn)(n?"quest-card":"parchment","p-5 mb-4",a),children:[i&&(0,s.jsx)("h2",{className:"font-[var(--font-heading)] text-lg text-[var(--gold)] mb-3",children:i}),e]})}e.s(["default",()=>a])},277,e=>{"use strict";var s=e.i(5111),t=e.i(55703),a=e.i(84249),n=e.i(8779),i=e.i(9064),l=e.i(3634);function d(){let{isAdmin:e}=(0,a.useAuth)(),[d,r]=(0,t.useState)(null),[c,x]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{e&&(0,n.getAdminAnalytics)().then(r).finally(()=>x(!1))},[e]),!e)return(0,s.jsx)(i.default,{title:"Access Denied",children:(0,s.jsx)("p",{children:"Admin only."})});if(c)return(0,s.jsx)(l.default,{text:"Crunching numbers..."});if(!d)return(0,s.jsx)(i.default,{children:(0,s.jsx)("p",{children:"No data available."})});let o=Math.max(...d.sessionsPerMonth.map(e=>e.count),1);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"font-[var(--font-heading)] text-2xl text-[var(--gold)]",children:"ðŸ“ˆ Analytics"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[["Avg Attendance",d.avgAttendance,"ðŸ‘¥"],["Busiest Day",d.busiestDay,"ðŸ“…"],["Player Retention",`${d.playerRetention}%`,"ðŸ”„"],["Campaigns",d.campaignDistribution.length,"ðŸ—ºï¸"]].map(([e,t,a])=>(0,s.jsx)(i.default,{children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-2xl",children:a}),(0,s.jsx)("p",{className:"text-2xl font-bold text-[var(--gold)] mt-1",children:String(t)}),(0,s.jsx)("p",{className:"text-xs text-[var(--ink-faded)]",children:e})]})},e))}),(0,s.jsx)(i.default,{title:"Sessions Per Month",children:(0,s.jsx)("div",{className:"flex items-end gap-1 h-40",children:d.sessionsPerMonth.map(e=>(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-end h-full",children:[(0,s.jsx)("span",{className:"text-[10px] text-[var(--gold)] mb-1",children:e.count}),(0,s.jsx)("div",{className:"w-full bg-[var(--gold)] rounded-t transition-all",style:{height:`${e.count/o*100}%`,minHeight:e.count>0?"4px":"0"}}),(0,s.jsx)("span",{className:"text-[10px] text-[var(--ink-faded)] mt-1 truncate w-full text-center",children:e.month.slice(5)})]},e.month))})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(i.default,{title:"Campaign Distribution",children:(0,s.jsx)("div",{className:"space-y-2",children:d.campaignDistribution.map(e=>{let t=d.campaignDistribution.reduce((e,s)=>e+s.count,0),a=t>0?Math.round(e.count/t*100):0;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsx)("span",{children:e.campaign}),(0,s.jsxs)("span",{className:"text-[var(--gold)]",children:[e.count," (",a,"%)"]})]}),(0,s.jsx)("div",{className:"h-2 bg-[var(--wood-dark)] rounded overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-[var(--gold)] transition-all",style:{width:`${a}%`}})})]},e.campaign)})})}),(0,s.jsx)(i.default,{title:"ðŸ† Top Adventurers",children:(0,s.jsx)("div",{className:"space-y-2",children:d.topPlayers.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-[var(--wood-dark)] rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-[var(--gold)] font-bold w-5 text-center",children:t+1}),(0,s.jsx)("span",{children:e.name})]}),(0,s.jsxs)("span",{className:"text-sm text-[var(--gold)]",children:[e.sessions," sessions"]})]},e.name))})})]})]})}e.s(["default",()=>d])}]);