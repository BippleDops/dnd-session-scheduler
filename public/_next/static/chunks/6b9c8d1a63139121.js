(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31119,e=>{"use strict";var s=e.i(55703);function t(e,a=[]){let[l,r]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),[n,d]=(0,s.useState)(null),x=(0,s.useCallback)(()=>{c(!0),d(null),e().then(r).catch(e=>d(e.message||"Failed to load")).finally(()=>c(!1))},a);return(0,s.useEffect)(()=>{x()},[x]),{data:l,loading:i,error:n,refetch:x}}e.s(["useApi",()=>t])},54520,e=>{"use strict";var s=e.i(5111),t=e.i(59053);function a({variant:e="default",href:a,className:l,children:r,...i}){let c=(0,t.cn)("wood-btn","primary"===e&&"wood-btn-primary","danger"===e&&"wood-btn-danger","sm"===e&&"text-sm py-1 px-3",l);return a?(0,s.jsx)("a",{href:a,className:c,children:r}):(0,s.jsx)("button",{className:c,...i,children:r})}e.s(["default",()=>a])},3634,e=>{"use strict";var s=e.i(5111);function t({text:e="Loading..."}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-end gap-3",children:[(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"}),(0,s.jsx)("div",{className:"candle-flame"}),(0,s.jsx)("div",{className:"w-2 h-8 bg-[var(--parchment-dark)] rounded-t-sm"})]}),(0,s.jsx)("p",{className:"text-[var(--gold)] font-[var(--font-heading)] text-lg animate-pulse",children:e})]})}e.s(["default",()=>t])},9064,e=>{"use strict";var s=e.i(5111),t=e.i(59053);function a({children:e,className:a,pinned:l=!1}){return(0,s.jsx)("div",{className:(0,t.cn)(l?"quest-card":"parchment","p-5 mb-4",a),children:e})}e.s(["default",()=>a])},14598,e=>{"use strict";var s=e.i(5111),t=e.i(55703),a=e.i(31119),l=e.i(8779),r=e.i(59053),i=e.i(3634),c=e.i(9064),n=e.i(54520);function d(){let[e,d]=(0,t.useState)(1),[x,m]=(0,t.useState)(""),{data:o,loading:h}=(0,a.useApi)(()=>(0,l.getAdminLogs)(e,x||void 0),[e,x]);return h?(0,s.jsx)(i.default,{text:"Unrolling the audit scroll..."}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"scroll-heading text-3xl mb-6",children:"ğŸ“‹ Audit Log"}),(0,s.jsxs)("div",{className:"flex gap-3 mb-4 items-center flex-wrap",children:[(0,s.jsxs)("select",{value:x,onChange:e=>{m(e.target.value),d(1)},className:"tavern-input max-w-[200px]",children:[(0,s.jsx)("option",{value:"",children:"All Actions"}),["SESSION_CREATED","SESSION_UPDATED","SESSION_CANCELLED","SESSION_COMPLETED","REGISTRATION_CREATED","REGISTRATION_CANCELLED","ATTENDANCE_MARKED","REMINDER_DRAFTED","BACKUP_COMPLETED","CONFIG_UPDATED"].map(e=>(0,s.jsx)("option",{value:e,children:e.replace(/_/g," ")},e))]}),o&&(0,s.jsxs)("span",{className:"text-sm text-[var(--parchment-dark)]",children:["Page ",o.page," of ",o.totalPages," (",o.total," entries)"]})]}),(0,s.jsx)(c.default,{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-[var(--ink)]",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 border-[var(--parchment-dark)]",children:[(0,s.jsx)("th",{className:"text-left p-2",children:"Time"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Action"}),(0,s.jsx)("th",{className:"text-left p-2",children:"Details"}),(0,s.jsx)("th",{className:"text-left p-2",children:"By"})]})}),(0,s.jsx)("tbody",{children:(o?.logs||[]).map(e=>(0,s.jsxs)("tr",{className:"border-b border-[rgba(0,0,0,0.05)]",children:[(0,s.jsx)("td",{className:"p-2 whitespace-nowrap text-xs",children:(0,r.formatTimestamp)(e.Timestamp)}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("code",{className:"text-xs bg-[var(--parchment-dark)] px-1 rounded",children:e.ActionType})}),(0,s.jsx)("td",{className:"p-2 text-xs",children:e.Details}),(0,s.jsx)("td",{className:"p-2 text-xs",children:e.TriggeredBy})]},e.LogID))})]})}),(0,s.jsxs)("div",{className:"flex justify-center gap-3 mt-4",children:[e>1&&(0,s.jsx)(n.default,{variant:"sm",onClick:()=>d(e-1),children:"â† Prev"}),(0,s.jsxs)("span",{className:"text-sm text-[var(--parchment-dark)] py-1",children:[o?.page," / ",o?.totalPages]}),o&&e<o.totalPages&&(0,s.jsx)(n.default,{variant:"sm",onClick:()=>d(e+1),children:"Next â†’"})]})]})}e.s(["default",()=>d])}]);